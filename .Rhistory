table <- read.csv('C:\\Users\\12431\\Documents\\GitHub\\final-project-Li_Tseng_Hou_Wang\\OurData')
table <- read.csv('C:\\Users\\12431\\OneDrive\\Documents\\GitHub\\final-project-Li_Tseng_Hou_Wang\\OurData')
library(dplyr)
library(tidyverse)
library(ggplot2)
library(dplyr)
library(tidyverse)
library(ggplot2)
table <- read.csv('C:\Users\12431\OneDrive\Documents\GitHub\final-project-Li_Tseng_Hou_Wang')
table <- read.csv("C:\Users\12431\OneDrive\Documents\GitHub\final-project-Li_Tseng_Hou_Wang")
table <- read.csv("C:\Users\12431\OneDrive\Documents\GitHub\final-project-Li_Tseng_Hou_Wang")
table <- read.csv("C:\\Users\\12431\\OneDrive\\Documents\\GitHub\\final-project-Li_Tseng_Hou_Wang\\Ourdata")
table <- read.csv("C:\\Users\\12431\\OneDrive\\Documents\\GitHub\\final-project-Li_Tseng_Hou_Wang\\Ourdata.csv")
table <- read.csv("C:\\Users\\12431\\文档\\Documents\\GitHub\\final-project-Li_Tseng_Hou_Wang\\Ourdata.csv")
OurData <- read.csv("C:/Users/12431/OneDrive/文档/GitHub/final-project-Li_Tseng_Hou_Wang/OurData.csv", header=FALSE, stringsAsFactors=TRUE)
View(OurData)
table <- OurData
colnames(table) <- table[1,]
table <- table[-1, ]
table[,1] <- NULL
View(table)
View(table)
table <- OurData
colnames(table) <- table[1,]
table <- table[-1, ]
table <- OurData
View(table)
View(table)
table[,1] <- NULL
colnames(table) <- table[1,]
table <- table[-1, ]
table <- OurData
table[,1] <- NULL
colnames(table) <- toString(table[1,])
table <- table[-1, ]
table <- OurData
OurData <- read.csv("C:/Users/12431/OneDrive/文档/GitHub/final-project-Li_Tseng_Hou_Wang/OurData.csv")
OurData <- read.csv("C:/Users/12431/OneDrive/文档/GitHub/final-project-Li_Tseng_Hou_Wang/OurData.csv")
table <- OurData
colnames(table) <- toString(table[1,])
table <- table[-1, ]
View(table)
View(table)
table <- OurData
colnames(table) <- table[1,]
table <- table[-1, ]
table[,1] <- NULL
table <- OurData
table[,1] <- NULL
Ourdata <- table
View(Ourdata)
View(OurData)
View(OurData)
View(OurData)
charD <- read.csv("C:/Users/12431/OneDrive/文档/GitHub/final-project-Li_Tseng_Hou_Wang/OurData.csv")
View(charD)
table[,1] <- NULL
charD[,1] <- NULL
charD <- charD %>%
group_by(sub.region, transportation_type)
charD <- charD %>%
group_by(sub.region, transportation_type, .drop = FALSE)
charD <- charD %>%
group_by(sub.region, transportation_type, .drop = TRUE)
charD %>%
group_by(sub.region)
charD <- charD %>%
filter(sub.region == NULL)
charD <- read.csv("C:/Users/12431/OneDrive/文档/GitHub/final-project-Li_Tseng_Hou_Wang/OurData.csv")
charD[,1] <= NULL
charD[,1] <- NULL
charD <- charD %>%
filter(sub.region == NULL)
charD <- charD %>%
filter(sub.region =! "")
charD <- charD %>%
filter(!sub.region == "")
charD <- charD %>%
filter(!sub.region == "")%>%
filter(!transportation_type == "transit")
charD <- read.csv("C:/Users/12431/OneDrive/文档/GitHub/final-project-Li_Tseng_Hou_Wang/OurData.csv")
charD[,1] <- NULL
charD <- charD %>%
filter(!sub.region == "")%>%
filter(transportation_type == "transit")
charD <- charD %>%
filter(!sub.region == "")%>%
filter(transportation_type == "transit")%>%
group_by(sub.region)
charD$country <- NULL
charD$geo_type <- NULL
charD$transportation_type <- NULL
charD$region <- NULL
charD <- read.csv("C:/Users/12431/OneDrive/文档/GitHub/final-project-Li_Tseng_Hou_Wang/OurData.csv")
charD[,1] <- NULL
charD$geo_type <- NULL
charD$country <- NULL
charD$region <- NULL
charD <- charD %>%
filter(!sub.region == "")%>%
filter(transportation_type == "transit")%>%
group_by(sub.region)
table <- read.csv('applemobilitytrends')
library(dplyr)
library(tidyverse)
library(ggplot2)
US_data <-read.csv("OurData.csv")
driving <- US_data %>%
filter(transportation_type == "driving") %>%
nrow()
walking <- US_data %>%
filter(transportation_type == "walking") %>%
nrow()
transit <- US_data %>%
filter(transportation_type == "transit") %>%
nrow()
df <- data.frame(
groups <- c("driving", "walking", "transit"),
values <- c(driving, walking, transit)
)
labels_df <- df %>%
mutate(perc = values....c.driving..walking..transit. / sum(values....c.driving..walking..transit.),
cumulative = cumsum(values....c.driving..walking..transit.),
midpoint = cumulative - values....c.driving..walking..transit. / 2,
labels = paste0(round((values....c.driving..walking..transit./ sum(values....c.driving..walking..transit.)) * 100, 1), "%"))
ggplot(labels_df, aes(x="", y=values, fill=groups)) + geom_bar(stat="identity", width=1, color="white") +
coord_polar("y", start=0) + theme_void() + geom_text(aes(label = labels), position = position_stack(vjust=0.5)) +
ggtitle("Methods of Transportation in United States")
setwd("C:/Users/12431/OneDrive/Documents/GitHub/final-project-Li_Tseng_Hou_Wang")
library(dplyr)
library(tidyverse)
library(ggplot2)
US_data <-read.csv("OurData.csv")
driving <- US_data %>%
filter(transportation_type == "driving") %>%
nrow()
walking <- US_data %>%
filter(transportation_type == "walking") %>%
nrow()
transit <- US_data %>%
filter(transportation_type == "transit") %>%
nrow()
df <- data.frame(
groups <- c("driving", "walking", "transit"),
values <- c(driving, walking, transit)
)
labels_df <- df %>%
mutate(perc = values....c.driving..walking..transit. / sum(values....c.driving..walking..transit.),
cumulative = cumsum(values....c.driving..walking..transit.),
midpoint = cumulative - values....c.driving..walking..transit. / 2,
labels = paste0(round((values....c.driving..walking..transit./ sum(values....c.driving..walking..transit.)) * 100, 1), "%"))
ggplot(labels_df, aes(x="", y=values, fill=groups)) + geom_bar(stat="identity", width=1, color="white") +
coord_polar("y", start=0) + theme_void() + geom_text(aes(label = labels), position = position_stack(vjust=0.5)) +
ggtitle("Methods of Transportation in United States")
table <- read.csv('applemobilitytrends')
setwd("C:/Users/12431/OneDrive/Documents/GitHub/final-project-Li_Tseng_Hou_Wang")
table <- read.csv('applemobilitytrends')
table <- read.csv('applemobilitytrends.csv')
table <- read.csv('applemobilitytrends.csv')
View(table)
View(table)
table <- table %>%
filter(country == "United States")
View(table)
View(table)
table <- read.csv('applemobilitytrends.csv')
View(table)
View(table)
table <- table %>%
filter(country == "United States")
table$alternative_name <- NULL
iris
table <- read.csv('OurData.csv')
View(table)
table[,1] <- NULL
table$country <- NULL
table <- table%>%
filter(sub.region != "")
table.nrow()
nrow(table)
group_by(table, sub.region)%>%
summarise_at(vars(X1.13.20),funs(sum(.)))
group_by(table, sub.region)%>%
summarise(total = sum(X1.13.20))
group_by(table, sub.region)%>%
summarise(total_traffic = sum(X1.13.20), Total_1.14.20 = sum(X1.14.20))
group_by(table, sub.region)%>%
summarise(total_traffic = sum(X1.13.20), Total_1.14.20 = sum(X1.14.20),
Total_1.15.20 = sum(X1.15.20), Total_1.16.20 = sum(X1.16.20),
Total_1.17.20 = sum(X1.17.20), Total_1.18.20 = sum(X1.18.20),
Total_1.19.20 = sum(X1.19.20), Total_1.20.20 = sum(X1.20.20),
Total_1.21.20 = sum(X1.21.20), Total_1.22.20 = sum(X1.22.20),
Total_1.23.20 = sum(X1.23.20), Total_1.24.20 = sum(X1.24.20),
Total_1.25.20 = sum(X1.25.20), Total_1.26.20 = sum(X1.26.20),
Total_1.27.20 = sum(X1.27.20), Total_1.28.20 = sum(X1.28.20),
Total_1.29.20 = sum(X1.29.20), Total_1.30.20 = sum(X1.30.20),
Total_1.31.20 = sum(X1.31.20)
)
group_by(table, sub.region)%>%
summarise_if(is.numeric, sum)
charD <- charD %>%
filter(!sub.region == "")%>%
filter(transportation_type == "transit")%>%
group_by(sub.region)%>%
summarise_if(is.numeric, sum)
charD <- read.csv("OurData.csv")
View(charD)
View(charD)
charD[,1] <- NULL
charD$country <- NULL
charD$geo_type <- NULL
charD$region <- NULL
charD <- charD %>%
filter(!sub.region == "")%>%
filter(transportation_type == "transit")%>%
group_by(sub.region)%>%
summarise_if(is.numeric, sum)
charD <- read.csv("OurData.csv")
charD[,1] <- NULL
charD$country <- NULL
charD$geo_type <- NULL
charD$region <- NULL
charD <- charD %>%
filter(!sub.region == "")%>%
filter(transportation_type == "transit")%>%
table$X
charD <- charD %>%
filter(!sub.region == "")%>%
filter(transportation_type == "transit")
colSums(charD)
charD[, 1:2] <- NULL
colSums(charD)
charD <- colSums(charD)
ggplot(charD, aes(x = charD[, 1:-1], y = V1 )) + geom_point(size = 2, shape = 2)
charD <- read.csv("OurData.csv")
charD[,1] <- NULL
charD$country <- NULL
charD$geo_type <- NULL
charD$region <- NULL
charD <- charD %>%
filter(!sub.region == "")%>%
filter(transportation_type == "transit")
charD <- charD %>%
filter(!sub.region == "")%>%
filter(transportation_type == "transit")%>%
group_by(sub.region)%>%
summarise_if(is.numeric, sum)
charD <- charD %>%
filter(!sub.region == "")%>%
filter(transportation_type == "transit")%>%
group_by(sub.region)%>%
summarise_if(is.numeric, sum)%>%
gather("Date", "Traffic", (2:-1))
charD <- read.csv("OurData.csv")
charD[,1] <- NULL
charD$country <- NULL
charD$geo_type <- NULL
charD$region <- NULL
charD <- charD %>%
filter(!sub.region == "")%>%
filter(transportation_type == "transit")%>%
group_by(sub.region)%>%
summarise_if(is.numeric, sum)%>%
gather("Date", "Traffic", (2:-1))
charD <- read.csv("OurData.csv")
charD[,1] <- NULL
charD$country <- NULL
charD$geo_type <- NULL
charD$region <- NULL
charD <- charD %>%
filter(!sub.region == "")%>%
filter(transportation_type == "transit")%>%
group_by(sub.region)%>%
summarise_if(is.numeric, sum)
gather(charD, "Date", "Traffic", (2:-1))
gather(charD, "Date", "Traffic", (2:35))
test <- gather(charD, "Date", "Traffic", (2:35))
View(test)
test <- gather(charD, "Date", "Traffic", (2:3))
View(test)
test <- gather(charD, "Date", "Traffic", (2:35))
test <- gather(charD, "Date", "Traffic", -1)
ggplot(charD, aes(x = Date, y = Traffic )) + geom_point(size = 2, shape = 2)
ggplot(test, aes(x = Date, y = Traffic )) + geom_point(size = 2, shape = 2)
ggplot(test, aes(x = Date, y = Traffic )) + geom_point(size = 2, shape = 2) +
geom_smooth(method=lm)
ggplot(test, aes(x = Date, y = Traffic )) + geom_point(size = 2, shape = 2) +
geom_smooth(method="auto", se=TRUE, fullrange=FALSE, level=0.95)
ggplot(test, aes(x = Date, y = Traffic )) + geom_point(size = 2, shape = 2) +
geom_smooth(method="auto", se=TRUE, fullrange=FALSE, level=0.95, color="red")
ggplot(test, aes(x = Date, y = Traffic )) + geom_point(size = 1, shape = 2) +
geom_smooth(method="auto", se=TRUE, fullrange=FALSE, level=0.95, color="red")
charD[1:-1,2:-1] = charD[1:-1,2:-1]/charD[1:-1,2]
for (i in 1:35){
for (h in 2:653){
charD[i,h] <- charD[i,h]/charD[i,2]
}
}
for (i in 1:35){
cons <- charD[i, 2]
for (h in 2:653){
charD[i,h] <- charD[i,h]/cons
}
}
charD <- read.csv("OurData.csv")
charD[,1] <- NULL
charD$country <- NULL
charD$geo_type <- NULL
charD$region <- NULL
charD <- charD %>%
filter(!sub.region == "")%>%
filter(transportation_type == "transit")%>%
group_by(sub.region)%>%
summarise_if(is.numeric, sum)
for (i in 1:35){
cons <- charD[i, 2]
for (h in 2:653){
charD[i,h] <- charD[i,h]/cons
}
}
test <- gather(charD, "Date", "Traffic", -1)
ggplot(test, aes(x = Date, y = Traffic )) + geom_point(size = 1, shape = 2) +
geom_smooth(method="auto", se=TRUE, fullrange=FALSE, level=0.95, color="red")
ggplot(test, aes(x = Date, y = Traffic )) + geom_point(size = 1, shape = 2) +
geom_smooth(method='lm')
ggplot(test, aes(x = Date, y = Traffic )) +
geom_point(size = 1, shape = 2) +
geom_smooth()
charD[0,-1]
charD[1,-1]
charD[,-1]
charD[,653]
colnames(charD)
colnames(charD)/1
#charD[, 1:2] <- NULL
tt <- colnames(charD)
#charD[, 1:2] <- NULL
tt <- as.factor(colnames(charD))
#charD[, 1:2] <- NULL
tt <- as.factor.numeric(colnames(charD))
charD <- charD%>%
select(contains("1"))
charD <- charD%>%
select(contains(".1."))
test <- gather(charD, "Date", "Traffic", -1)
ggplot(test, aes(x = Date, y = Traffic )) +
geom_point(size = 1, shape = 2) +
geom_smooth()
charD <- charD%>%
select(num_range(x,1:5))
charD <- charD%>%
select(num_range("x",1:5))
charD <- read.csv("OurData.csv")
charD[,1] <- NULL
charD$country <- NULL
charD$geo_type <- NULL
charD$region <- NULL
charD <- charD %>%
filter(!sub.region == "")%>%
filter(transportation_type == "transit")%>%
group_by(sub.region)%>%
summarise_if(is.numeric, sum)
test <- gather(charD, "Date", "Traffic", -1)
charD <- read.csv("OurData.csv")
charD[,1] <- NULL
charD$country <- NULL
charD$geo_type <- NULL
charD$region <- NULL
charD <- charD %>%
filter(!sub.region == "")%>%
filter(transportation_type == "transit")%>%
group_by(sub.region)%>%
summarise_if(is.numeric, sum)
charD <- read.csv("OurData.csv")
charD[,1] <- NULL
charD$country <- NULL
charD$geo_type <- NULL
charD$region <- NULL
setwd("~/GitHub/final-project-Li_Tseng_Hou_Wang")
library("shiny")
library("tidyverse")
library("plotly")
# additional library for map:
library(matrixStats)
source("app_ui.R")
source("app_server.R")
shinyApp(ui = ui, server = server)
setwd("~/GitHub/final-project-Li_Tseng_Hou_Wang")
library("shiny")
library("tidyverse")
library("plotly")
# additional library for map:
library(matrixStats)
source("app_ui.R")
source("app_server.R")
shinyApp(ui = ui, server = server)
source("app_ui.R")
source("app_server.R")
shinyApp(ui = ui, server = server)
source("app_ui.R")
source("app_ui.R")
source("app_server.R")
source("app_ui.R")
source("app_ui.R")
source("app_ui.R")
